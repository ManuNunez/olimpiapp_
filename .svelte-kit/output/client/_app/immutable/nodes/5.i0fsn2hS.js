import"../chunks/CWj6FrbW.js";import"../chunks/BGmNO-Kf.js";import{am as W,W as O,X as S,a,Y as p,an as X,$ as Y,ao as l,Z as r,_ as i,m as v,a0 as Z,s as n,aq as k}from"../chunks/C2U4IKIp.js";import{e as z,s as B}from"../chunks/B6thhSHX.js";import{i as q}from"../chunks/ly8UQ4rw.js";import{h as F}from"../chunks/BjGg-ub7.js";import{r as E}from"../chunks/IJEFhr2z.js";import{b as L}from"../chunks/Ca9TkKAE.js";import{i as G,a as H}from"../chunks/CPKMhm4T.js";import{s as J,a as K}from"../chunks/BOcB0n1D.js";import{s as M,g as Q}from"../chunks/BMpYDMX-.js";const T=()=>{const t=M;return{page:{subscribe:t.page.subscribe},navigating:{subscribe:t.navigating.subscribe},updated:t.updated}},V={subscribe(t){return T().page.subscribe(t)}};var ee=O('<div class="error svelte-1gi6e0m"> </div>'),se=O('<div class="auth-container svelte-1gi6e0m"><div class="auth-card svelte-1gi6e0m"><h1 class="svelte-1gi6e0m">Iniciar Sesión</h1> <form><div class="form-group svelte-1gi6e0m"><label for="email" class="svelte-1gi6e0m">Email</label> <input type="email" id="email" required placeholder="ejemplo@email.com" class="svelte-1gi6e0m"/></div> <div class="form-group svelte-1gi6e0m"><label for="password" class="svelte-1gi6e0m">Contraseña</label> <input type="password" id="password" required placeholder="••••••••" class="svelte-1gi6e0m"/></div> <!> <button type="submit" class="btn-primary svelte-1gi6e0m"><!></button></form> <div class="auth-links svelte-1gi6e0m"><a href="/signup" class="svelte-1gi6e0m">¿No tienes cuenta? Regístrate</a> <a href="/forgot-password" class="svelte-1gi6e0m">¿Olvidaste tu contraseña?</a></div></div></div>');function de(t,x){W(x,!1);const[U,j]=J(),A=()=>K(V,"$page",U);let c=v(""),d=v(""),o=v(!1),m=v("");async function C(e){e.preventDefault(),n(o,!0),n(m,"");try{if((await H.login({email:a(c),password:a(d)})).token){const w=A().url.searchParams.get("returnUrl")||"/acount";Q(w)}}catch(s){n(m,s.message||"Error al iniciar sesión")}finally{n(o,!1)}}G();var u=se();F(e=>{Y.title="Iniciar Sesión - OlimpiApp"});var y=r(u),g=l(r(y),2),f=r(g),b=l(r(f),2);E(b),i(f);var _=l(f,2),h=l(r(_),2);E(h),i(_);var I=l(_,2);{var D=e=>{var s=ee(),w=r(s,!0);i(s),S(()=>B(w,a(m))),p(e,s)};q(I,e=>{a(m)&&e(D)})}var $=l(I,2),N=r($);{var P=e=>{var s=k("Iniciando sesión...");p(e,s)},R=e=>{var s=k("Iniciar Sesión");p(e,s)};q(N,e=>{a(o)?e(P):e(R,!1)})}i($),i(g),Z(2),i(y),i(u),S(()=>{b.disabled=a(o),h.disabled=a(o),$.disabled=a(o)}),L(b,()=>a(c),e=>n(c,e)),L(h,()=>a(d),e=>n(d,e)),z("submit",g,C),p(t,u),X(),j()}export{de as component};
